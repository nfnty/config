# set -s buffer-limit 20
set -s default-terminal "screen-256color"
set -s escape-time 0
set -s exit-unattached off
set -s focus-events off
# set -s message-limit 100
set -s set-clipboard off
set -s terminal-overrides "*256col*:colors=256,xterm*:XT,xterm-termite:Tc"

# set -g assume-paste-time 1
# set -g base-index 0
# set -g bell-action any
# set -g bell-on-alert off
# set -g default-command ""
# set -g default-shell $SHELL
# set -g destroy-unattached off
# set -g detach-on-destroy on
# set -g display-panes-active-colour 1
# set -g display-panes-colour 4
# set -g display-panes-time 1000
# set -g display-time 750
set -g history-limit 500000
# set -g lock-after-time 0
# set -g lock-command "lock -np"
# set -g lock-server on
set -g message-command-style "bg=colour233,fg=colour178"
set -g message-style "bg=black,fg=colour178"
# set -g mouse off
# set -g mouse-utf8 off
set -g prefix C-t
# set -g prefix2 NULL
# set -g renumber-windows off
set -g repeat-time 0
set -g remain-on-exit on
set -g set-titles on
set -g set-titles-string "#{session_name}:#{window_index}:#{window_name} - #{pane_title} #{session_alerts}"
set -g status on
set -g status-interval 1
set -g status-justify centre
set -g status-keys vi
set -g status-left "[#{session_name}] #{pane_title}"
set -g status-left-length 30
# set -g status-left-style "default"
# set -g status-position bottom
set -g status-right "#{history_bytes}"
set -g status-right-length 30
# set -g status-right-style "default"
set -g status-style "bg=black,fg=colour167"
# set -g status-utf8 off
# set -g update-environment "DISPLAY SSH_ASKPASS SSH_AUTH_SOCK SSH_AGENT_PID SSH_CONNECTION WINDOWID XAUTHORITY"
# set -g visual-activity off
set -g visual-bell on
# set -g visual-silence on
# set -g word-separators " -_@"

setw -g aggressive-resize on
# setw -g allow-rename on
# setw -g alternate-screen on
# setw -g automatic-rename on
setw -g automatic-rename-format "#{pane_current_command}"
# setw -g c0-change-interval 100
# setw -g c0-change-trigger 250
# setw -g clock-mode-colour 4
# setw -g clock-mode-style 24
# setw -g force-height 0
# setw -g force-width 0
# setw -g main-pane-height 24
# setw -g main-pane-width 80
setw -g mode-keys vi
# setw -g mode-mouse off
setw -g mode-style "bg=black,fg=colour178"
# setw -g monitor-activity off
# setw -g monitor-silence 0
# setw -g other-pane-height 0
# setw -g other-pane-width 0
# setw -g pane-active-border-style "fg=green"
# setw -g pane-base-index 0
# setw -g pane-border-style "default"
# setw -g remain-on-exit off
# setw -g synchronize-panes off
# setw -g utf8 off
# setw -g window-active-style "default"
# setw -g window-style "default"
# setw -g window-status-activity-style "reverse"
# setw -g window-status-bell-style "reverse"
setw -g window-status-current-format "#{window_index}:#{window_name}#{?pane_in_mode,[m],}#{?pane_dead,[d#{pane_dead_status}],}#{?window_flags,#{window_flags},}"
# setw -g window-status-current-style "default"
setw -g window-status-format "#{window_index}:#{window_name}#{?pane_in_mode,[m],}#{?pane_dead,[d#{pane_dead_status}],}#{?window_flags,#{window_flags},}"
# setw -g window-status-last-style "default"
setw -g window-status-separator " "
# setw -g window-status-style "default"
setw -g xterm-keys on
# setw -g wrap-search on

set-hook -g pane-died "copy-mode ; send-keys -X scroll-up"

unbind-key -T root -a
unbind-key -T prefix -a
unbind-key -T copy-mode -a
unbind-key -T copy-mode-vi -a

bind-key -T prefix 0 select-window -t 0
bind-key -T prefix 1 select-window -t 1
bind-key -T prefix 2 select-window -t 2
bind-key -T prefix 3 select-window -t 3
bind-key -T prefix 4 select-window -t 4
bind-key -T prefix 5 select-window -t 5
bind-key -T prefix 6 select-window -t 6
bind-key -T prefix 7 select-window -t 7
bind-key -T prefix 8 select-window -t 8
bind-key -T prefix 9 select-window -t 9
bind-key -T prefix : command-prompt
bind-key -T prefix b list-buffers
bind-key -T prefix B choose-buffer
bind-key -T prefix l last-window
bind-key -T prefix L switch-client -l
bind-key -T prefix n new-window
bind-key -T prefix N new-session
bind-key -T prefix y copy-mode
bind-key -T prefix Y run-shell 'tmux save-buffer - | xsel --primary --input && xsel --primary --output | xsel --clipboard --input'
bind-key -T prefix p paste-buffer
bind-key -T prefix P command-prompt -p 'Save history to path:' 'capture-pane -S - ; save-buffer %1 ; delete-buffer'
bind-key -T prefix d detach-client
bind-key -T prefix r respawn-window
bind-key -T prefix R refresh-client
bind-key -T prefix t choose-tree
bind-key -T prefix w choose-window
bind-key -T prefix m show-messages
bind-key -T prefix s set status
bind-key -T prefix q kill-window
bind-key -T prefix Q set -g detach-on-destroy off \; kill-window \; set -g detach-on-destroy on

bind-key -T copy-mode-vi      o send-keys -X cursor-left
bind-key -T copy-mode-vi      e send-keys -X cursor-up
bind-key -T copy-mode-vi      u send-keys -X cursor-right
bind-key -T copy-mode-vi      Up send-keys -X halfpage-up
bind-key -T copy-mode-vi      j send-keys -X cursor-down
bind-key -T copy-mode-vi      Down send-keys -X halfpage-down
bind-key -T copy-mode-vi      b send-keys -X previous-word
bind-key -T copy-mode-vi      B send-keys -X previous-space
bind-key -T copy-mode-vi      h send-keys -X next-word-end
bind-key -T copy-mode-vi      H send-keys -X next-space-end
bind-key -T copy-mode-vi      w send-keys -X next-word
bind-key -T copy-mode-vi      W send-keys -X next-space
bind-key -T copy-mode-vi      g send-keys -X history-top
bind-key -T copy-mode-vi      G send-keys -X history-bottom
bind-key -T copy-mode-vi      : command-prompt -p "(goto line)" "send -X goto-line \"%%%\""
bind-key -T copy-mode-vi      0 send-keys -X start-of-line
bind-key -T copy-mode-vi      ^ send-keys -X back-to-indentation
bind-key -T copy-mode-vi    '$' send-keys -X end-of-line
bind-key -T copy-mode-vi      / command-prompt -i -p "(search down)" "send -X search-forward-incremental \"%%%\""
bind-key -T copy-mode-vi      ? command-prompt -i -p "(search up)" "send -X search-backward-incremental \"%%%\""
bind-key -T copy-mode-vi      n send-keys -X search-again
bind-key -T copy-mode-vi      N send-keys -X search-reverse
bind-key -T copy-mode-vi      f command-prompt -1 -p "(jump forward)" "send -X jump-forward \"%%%\""
bind-key -T copy-mode-vi      F command-prompt -1 -p "(jump backward)" "send -X jump-backward \"%%%\""
bind-key -T copy-mode-vi      t command-prompt -1 -p "(jump to forward)" "send -X jump-to-forward \"%%%\""
bind-key -T copy-mode-vi      T command-prompt -1 -p "(jump to backward)" "send -X jump-to-backward \"%%%\""
bind-key -T copy-mode-vi      , send-keys -X jump-reverse
bind-key -T copy-mode-vi     \; send-keys -X jump-again
bind-key -T copy-mode-vi      v send-keys -X begin-selection
bind-key -T copy-mode-vi      V send-keys -X select-line
bind-key -T copy-mode-vi    C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi      y send-keys -X copy-selection
bind-key -T copy-mode-vi      Y send-keys -X copy-end-of-line
bind-key -T copy-mode-vi Escape send-keys -X clear-selection
bind-key -T copy-mode-vi      q send-keys -X cancel
